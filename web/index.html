<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE HTML>
<html>
    <head>
    <title>IPAC Controller</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="IPAC Internetradio controller" />
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
    <!-- Custom CSS -->
    <link href="css/style.css" rel='stylesheet' type='text/css' />
    <!-- font CSS -->
    <!-- font-awesome icons -->
    <link href="css/font-awesome.css" rel="stylesheet">
    <!-- //font-awesome icons -->
    <!--skycons-icons-->
    <script src="js/skycons.js"></script>
    <!--//skycons-icons-->

    <!-- js-->
    <script src="js/bootstrap.js"></script>
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/modernizr.custom.js"></script>
    <!--webfonts-->
    <link href='//fonts.googleapis.com/css?family=Comfortaa:400,700,300' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Muli:400,300,300italic,400italic' rel='stylesheet' type='text/css'>
    <!--//webfonts-->
    <!-- Metis Menu -->
    <script src="js/metisMenu.min.js"></script>
    <script src="js/custom.js"></script>
    <link href="css/custom.css" rel="stylesheet">
    <!--//Metis Menu -->
    <link href="css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <script src="js/jquery.sparkline.min.js"></script>
    <script type="text/javascript">
    /* <![CDATA[ */
    $(function() {
        /** This code runs when everything has been loaded on the page */
        /* Inline sparklines take their values from the contents of the tag */
        $('.inlinesparkline').sparkline(); 

        /* Sparklines can also take their values from the first argument passed to the sparkline() function */
        var myvalues = [10,8,5,7,4,4,1];
        $('.dynamicsparkline').sparkline(myvalues);

        /* The second argument gives options such as specifying you want a bar chart11 */
        $('.dynamicbar').sparkline(myvalues, {type: 'bar', barColor: '#fff'} );

        /* Use 'html' instead of an array of values to pass options to a sparkline with data in the tag */
        $('.inlinebar').sparkline('html', {type: 'bar', barColor: '#fff'} );

    });
    /* ]]> */
    </script>
    <script type="text/javascript">
	//function to parse the URL to get variables
    function get_param(param) {
   var search = window.location.search.substring(1);			//get sub URL
   var compareKeyValuePair = function(pair) {					// function to split the = sign
      var key_value = pair.split('=');
      var decodedKey = decodeURIComponent(key_value[0]);
      var decodedValue = decodeURIComponent(key_value[1]);
      if(decodedKey == param) return decodedValue;
      return null;
   };

   var comparisonResult = null;

   if(search.indexOf('&') > -1) {								//function to check for multible variables
      var params = search.split('&');
      for(var i = 0; i < params.length; i++) {
         comparisonResult = compareKeyValuePair(params[i]); 
         if(comparisonResult !== null) {
            break;
         }
      }
   } else {
      comparisonResult = compareKeyValuePair(search);
   }

   return comparisonResult;
}

var ip_value = get_param('ip');									//use of the function, find the value of ip
var time_value = get_param('time');
var latest_alarm_value = get_param('latest_alarm');
var latest_schedular_value = get_param('latest_schedular');
var stream_value = get_param('stream');
</script>
    <script src="js/Chart.js"></script>

    <!--pie-chart--->
    <script src="js/pie-chart.js" type="text/javascript"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            $('#demo-pie-1').pieChart({
                barColor: '#68b828',
                trackColor: '#eee',
                lineCap: 'round',
                lineWidth: 10,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

            $('#demo-pie-2').pieChart({
                barColor: '#7c38bc',
                trackColor: '#eee',
                lineCap: 'butt',
                lineWidth: 10,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

            $('#demo-pie-3').pieChart({
                barColor: '#0e62c7',
                trackColor: '#eee',
                lineCap: 'square',
                lineWidth: 10,
                onStep: function (from, to, percent) {
                    $(this.element).find('.pie-value').text(Math.round(percent) + '%');
                }
            });

           
        });

    </script>
    <!--Calender-->
    <link rel="stylesheet" href="css/clndr.css" type="text/css" />
    <script src="js/underscore-min.js" type="text/javascript"></script>
    <script src= "js/moment-2.2.1.js" type="text/javascript"></script>
    <script src="js/clndr.js" type="text/javascript"></script>
    <script src="js/site.js" type="text/javascript"></script>
    <!--End Calender-->
    </head>
    <body class="cbp-spmenu-push">
<div class="main-content">
<!-- header-starts -->
<div class="sticky-header header-section ">
<div class="header-left"> 
      <!--logo -->
      <div class="logo"> <a>
        <h1>IPAC Internetstation controller</h1>
        </a> </div>
      <!--//logo-->
      
      <div class="clearfix"> </div>
    </div>
<div class="profile_medile">
<!--notifications of menu start -->
<ul class="nofitications-dropdown">
<li class="dropdown head-dpdn"> <a href="#setAlarm" class="dropdown-toggle"><i class="fa fa-bell"></i></a>
    <li class="dropdown head-dpdn"> <a href="#setSchedular" class="dropdown-toggle"><i class="fa fa-align-justify"></i></a>
    <li class="dropdown head-dpdn"> <a href="#setStream" class="dropdown-toggle"><i class="fa fa-play"></i></a>
    </div>
<div class="header-right">
      <h4 style="text-align:center; padding: 1.55em">IP: <script type="text/javascript">document.write(ip_value)</script></h4>
      <div class="clearfix"> </div>
      <!--toggle button end--> 
    </div>
<div class="clearfix"> </div>
</div>
<!-- //header-ends -->
<div id="page-wrapper">
      <div class="main-page">
    <div class="four-grids">
          <div class="col-md-3 four-grid">
        <div class="four-grid1">
              <div class="icon"> <i class="glyphicon glyphicon-time" aria-hidden="true"></i> </div>
              <div class="four-text">
            <h3>Time</h3>
            <h4><script type="text/javascript">document.write(time_value)</script></h4>
            <p> <span class="inlinebar">1,3,4,5,3,5</span> </p>
          </div>
              <a href="#setTime">Set</a> </div>
      </div>
          <div class="col-md-3 four-grid">
        <div class="four-grid2">
              <div class="icon"> <i class="glyphicon glyphicon-bell" aria-hidden="true"></i> </div>
              <div class="four-text">
            <h3>Alarm</h3>
            <h4><script type="text/javascript">document.write(latest_alarm_value)</script></h4>
            <p> <span class="inlinebar">1,3,4,5,3,5</span> </p>
          </div>
              <a href="#setAlarm">Set</a> </div>
      </div>
          <div class="col-md-3 four-grid">
        <div class="four-grid3">
              <div class="icon"> <i class="glyphicon glyphicon-align-justify " aria-hidden="true"></i> </div>
              <div class="four-text">
            <h3>Schedular</h3>
            <h4><script type="text/javascript">document.write(latest_schedular_value)</script></h4>
            <p><span class="dynamicbar">Loading..</span></p>
          </div>
              <a href="#setSchedular">Set</a> </div>
      </div>
          <div class="col-md-3 four-grid">
        <div class="four-grid4">
              <div class="icon"> <i class="glyphicon glyphicon-play" aria-hidden="true"></i> </div>
              <div class="four-text">
            <h3>Music</h3>
            <h4><script type="text/javascript">document.write(stream_value)</script></h4>
            <p><span class="dynamicbar">Loading..</span></p>
          </div>
              <a href="#setStream">Set</a> </div>
      </div>
          <div class="clearfix"></div>
          <a id="setAlarm"></a> </div>
    <div class="form-grid2"> 
          <!-- Form to set alarm -->
          <form action="/" id="setAlarmForm">
        <h4><span>Set Alarm</h4>
        <div class="form-bottom">
              <h5>Time</h5>
              <!-- Time -->
              <input type="time" name="time">
              <span>Please enter your time</span> </div>
        <div class="form-bottom">
              <h5>Periodic</h5>
              Monday: 
              <!--binary value for setting a day (0000010)-->
              <input type="checkbox" name="monday" value="2">
              Tuesday:
              <input type="checkbox" name="tuesday" value="4">
              Wednesday:
              <input type="checkbox" name="wednesday" value="8">
              Thursday:
              <input type="checkbox" name="thursday" value="16">
              Friday:
              <input type="checkbox" name="friday" value="32">
              Saturday:
              <input type="checkbox" name="saturday" value="64">
              Sunday:
              <input type="checkbox" name="sunday" value="1">
              <br />
              <span>Please enter your days</span> </div>
        <div class="form-bottom">
              <h5>Checks</h5>
              Enabled: 
              <!-- Is alarm enabled -->
              <input type="checkbox" name="isEnabled" checked>
              <br />
              Game: 
              <!-- Select a game -->
              <select name="game">
            <option value="0" selected>None</option>
            <option value="1">Math</option>
            <option value="2">Dino</option>
          </select>
              <br />
              <span>Please enter your checks</span> </div>
        <div class="form-bottom">
              <h5>Snoozetime (min)</h5>
              <!-- Set snoozetime -->
              <input type="number" name="snooze" >
              <span>Please enter your snoozetime</span> </div>
        <div class="form-bottom">
              <h5>Sound</h5>
              Tone: 
              <!-- Alarmtone on or off -->
              <input type="checkbox" name="tone" checked>
              <br />
              Radio: 
              <!-- Select Radio stream -->
              <select name="radio">
            <option value="0" selected>None</option>
            <option value="1">Radio 1</option>
            <option value="2">Radio 2</option>
            <option value="3">3FM</option>
            <option value="4">VeronicaFM</option>
            <option value="5">Radio538</option>
          </select>
              <span>Please enter your sound</span> </div>
        <a id="setSchedular"></a>
        <div class="form-bottom"> 
              <!-- Submit and reset button -->
              <button type="submit" class="btn btn-sm btn-primary"><i class="fa fa-angle-right"></i> submit</button>
              <button type="reset" class="btn btn-sm btn-warning"><i class="fa fa-repeat"></i> Reset</button>
              <!-- Confirm message, standard not visible --> 
              <span id="confirmAlarm" style="color: green; display: none"><strong>Request has been sent!</strong></span> </div>
      </form>
          <script>
					// Attach a submit handler to the form
					$( "#setAlarmForm" ).submit(function( event ) {
					 
					  // Stop form from submitting normally
					  event.preventDefault();
					 
					  // URL to send the request
					  var url = "http://" + ip_value + "/cgi-bin/alarm.cgi";
					 
					  // Set the varables from the form
					  var $form = $( this ),
						hour = ($form.find( "input[name='time']" ).val()).split(":")[0],
					 	minute = ($form.find( "input[name='time']" ).val()).split(":")[1],
						enabled = Number($("input[name='isEnabled']").is(':checked')),
						monday = parseInt($("input[name='monday']:checked").length ? $("input[name='monday']:checked").val() : '0'), //if checked, get value otherwise make value 0
						tuesday = parseInt($("input[name='tuesday']:checked").length ? $("input[name='tuesday']:checked").val() : '0'),
						wednesday = parseInt($("input[name='wednesday']:checked").length ? $("input[name='wednesday']:checked").val() : '0'),
						thursday = parseInt($("input[name='thursday']:checked").length ? $("input[name='thursday']:checked").val() : '0'),
					 	friday = parseInt($("input[name='friday']:checked").length ? $("input[name='friday']:checked").val() : '0'),
						saturday = parseInt($("input[name='saturday']:checked").length ? $("input[name='saturday']:checked").val() : '0'),
						sunday = parseInt($("input[name='sunday']:checked").length ? $("input[name='sunday']:checked").val() : '0'),
						game = $( "select[name='game']" ).val(),
						snoozetime = $form.find( "input[name='snooze']" ).val(),
						tone = Number($("input[name='tone']").is(':checked')),
						radio = $( "select[name='radio']" ).val();
									  
					  alert(url + " - " + "#message#" + enabled + "#" + snoozetime + "#" + game + "#" + "0" + "#" + hour + "#" + minute + "#" + (saturday+friday+thursday+wednesday+tuesday+monday+sunday) + "#" + radio + "#" + tone);
					  
					  // Send all the data using post
					  var posting = $.post( url, "#messages#" + enabled + "#" + snoozetime + "#" + game + "#" + "0" + "#" + hour + "#" + minute + "#" + (saturday+friday+thursday+wednesday+tuesday+monday+sunday) + "#" + radio + "#" + tone );
					  //Make confirm message visible
					  $("#confirmAlarm").show();					 
					});
				</script> 
        </div>
    <div class="form-grid2">
          <form action="/" id="setSchedularForm">
        <h4><span>Set Schedular</h4>
        <div class="form-bottom">
              <h5>Time</h5>
              <input type="time" name="timeSch">
              <span>Please enter your time</span> </div>
        <div class="form-bottom">
              <h5>Periodic</h5>
              Monday:
              <input type="checkbox" name="mondaySch" value="2">
              Tuesday:
              <input type="checkbox" name="tuesdaySch" value="4">
              Wednesday:
              <input type="checkbox" name="wednesdaySch" value="8">
              Thursday:
              <input type="checkbox" name="thursdaySch" value="16">
              Friday:
              <input type="checkbox" name="fridaySch" value="32">
              Saturday:
              <input type="checkbox" name="saturdaySch" value="64">
              Sunday:
              <input type="checkbox" name="sundaySch" value="1">
              <br />
              <span>Please enter your days</span> </div>
        <div class="form-bottom">
              <h5>Checks</h5>
              Enabled:
              <input type="checkbox" name="isEnabledSch" checked>
              <br />
              <span>Please enter your checks</span> </div>
        <div class="form-bottom">
              <h5>Playtime (min)</h5>
              <input type="number" name="snoozeSch" >
              <span>Please enter your playtime</span> </div>
        <div class="form-bottom">
              <h5>Sound</h5>
              Tone:
              <input type="checkbox" name="toneSch">
              <br />
              Radio:
              <select name="radioSch">
            <option value="0" selected>None</option>
            <option value="1">Radio 1</option>
            <option value="2">Radio 2</option>
            <option value="3">3FM</option>
            <option value="4">VeronicaFM</option>
            <option value="5">Radio538</option>
          </select>
              <span>Please enter your sound</span> </div>
        <a id="setStream"></a>
        <div class="form-bottom">
              <button type="submit" class="btn btn-sm btn-primary"><i class="fa fa-angle-right"></i> submit</button>
              <button type="reset" class="btn btn-sm btn-warning"><i class="fa fa-repeat"></i> Reset</button>
              <span id="confirmSchedular" style="color: green; display: none"><strong>Request has been sent!</strong></span> </div>
      </form>
          <script>
					// Attach a submit handler to the form
					$( "#setSchedularForm" ).submit(function( event ) {
					 
					  // Stop form from submitting normally
					  event.preventDefault();
					 
					  // URL to send the request
					  var url = "http://" + ip_value + "/cgi-bin/alarm.cgi";
					 
					  // Set the varables from the form
					  var $form = $( this ),
						hour = ($form.find( "input[name='timeSch']" ).val()).split(":")[0],
					 	minute = ($form.find( "input[name='timeSch']" ).val()).split(":")[1],
						enabled = Number($("input[name='isEnabledSch']").is(':checked')),
						monday = parseInt($("input[name='mondaySch']:checked").length ? $("input[name='mondaySch']:checked").val() : '0'),
						tuesday = parseInt($("input[name='tuesdaySch']:checked").length ? $("input[name='tuesdaySch']:checked").val() : '0'),
						wednesday = parseInt($("input[name='wednesdaySch']:checked").length ? $("input[name='wednesdaySch']:checked").val() : '0'),
						thursday = parseInt($("input[name='thursdaySch']:checked").length ? $("input[name='thursdaySch']:checked").val() : '0'),
					 	friday = parseInt($("input[name='fridaySch']:checked").length ? $("input[name='fridaySch']:checked").val() : '0'),
						saturday = parseInt($("input[name='saturdaySch']:checked").length ? $("input[name='saturdaySch']:checked").val() : '0'),
						sunday = parseInt($("input[name='sundaySch']:checked").length ? $("input[name='sundaySch']:checked").val() : '0'),
						snoozetime = $form.find( "input[name='snoozeSch']" ).val(),
						tone = Number($("input[name='toneSch']").is(':checked')),
						radio = $( "select[name='radioSch']" ).val();
									  
					  alert(url + " - " + "#message#" + enabled + "#" + snoozetime + "#" + "0" + "#" + "0" + "#" + hour + "#" + minute + "#" + (saturday+friday+thursday+wednesday+tuesday+monday+sunday) + "#" + radio + "#" + tone);
					  // Send the data using post
					  var posting = $.post( url, "#message#" + enabled + "#" + snoozetime + "#" + game + "#" + "1" + "#" + hour + "#" + minute + "#" + (saturday+friday+thursday+wednesday+tuesday+monday+sunday) + "#" + radio + "#" + tone );
					  //Make confirm message visible
					  $("#confirmSchedular").show();					 
					});
				</script> 
        </div>
    <div class="form-grid2">
          <form action="/" id="setStreamForm">
        <h4><span>Set stream</h4>
        <div class="form-bottom">
              <h5>IP</h5>
              <input type="text" name="ip" placeholder="Enter IP..">
              <span>Please enter your IP</span> </div>
        <div class="form-bottom">
              <h5>Port</h5>
              <input type="text" name="port" placeholder="Enter port..">
              <span>Please enter your Port</span> </div>
        <div class="form-bottom">
              <h5>Radio URL (optional)</h5>
              <input type="text" name="url" placeholder="/">
              <span>Please enter your Radio URL</span> </div>
        <a id="setTime"></a>
        <div class="form-bottom">
              <button type="submit" class="btn btn-sm btn-primary"><i class="fa fa-angle-right"></i> Submit</button>
              <button type="reset" class="btn btn-sm btn-warning"><i class="fa fa-repeat"></i> Reset</button>
              <span id="confirmStream" style="color: green; display: none"><strong>Request has been sent!</strong></span> </div>
            </div>
      </form>
          <script>
					// Attach a submit handler to the form
					$( "#setStreamForm" ).submit(function( event ) {
					 
					  // Stop form from submitting normally
					  event.preventDefault();
					 
					  // URL to send the request
					  var url = "http://" + ip_value + "/cgi-bin/radio.cgi";
					 
					  // Set the varables from the form
					  var $form = $( this ),
						ip = $form.find( "input[name='ip']" ).val(),
					 	port = $form.find( "input[name='port']" ).val(),
						radioUrl = $form.find( "input[name='url']" ).val();
					  					  
					  alert("#messagess#" + ip + "#" + port + "#" + url);
					  // Send the data using post
					  var posting = $.post( url, "#message#" + ip + "#" + port + "#" + radioUrl );
					  //Make confirm message visible
					  $("#confirmStream").show();					 
					});
				</script> 
        </div>
    <div class="form-grid2">
          <form action="/" id="setTimeForm">
        <h4><span>Set time</h4>
        <div class="form-bottom">
              <h5>Time</h5>
              <input type="time" name="time" placeholder="">
              <span>Please enter your Time</span> </div>
        <div class="form-bottom">
              <h5>Timezone</h5>
              <input type="number" name="timezone" placeholder="Enter port..">
              <span>Please enter your Timezone</span> </div>
        <div class="form-bottom">
              <button type="submit" class="btn btn-sm btn-primary"><i class="fa fa-angle-right"></i> Submit</button>
              <button type="reset" class="btn btn-sm btn-warning"><i class="fa fa-repeat"></i> Reset</button>
              <span id="confirmTime" style="color: green; display: none"><strong>Request has been sent!</strong></span> </div>
            </div>
      </form>
          <script>
					// Attach a submit handler to the form
					$( "#setTimeForm" ).submit(function( event ) {
					 
					  // Stop form from submitting normally
					  event.preventDefault();
					 
					  // URL to send the request
					  var url = "http://" + ip_value + "/cgi-bin/clock.cgi";
					 
					  // Set the varables from the form
					  var $form = $( this ),
						hour = ($form.find( "input[name='time']" ).val()).split(":")[0],
					 	minute = ($form.find( "input[name='time']" ).val()).split(":")[1],
						timezone = $form.find( "input[name='timezone']" ).val();
					  					  
					  alert(url + " -- " + hour + "#" + minute + "#" + timezone);
					  // Send the data using post
					  var posting = $.post( url, "#message#" + hour + "#" + minute + "#" + timezone );
					  //Make confirm message visible
					  $("#confirmTime").show();					 
					});
				</script> 
        </div>
  </div>
    </div>
<div class="copy-section">
      <p>&copy; 2017 Groep A4 - Template: Ultra Modern. All rights reserved | Design by <a href="http://w3layouts.com">W3layouts</a> & Martijn de Voogd</p>
    </div>
</div>
<!-- Classie --> 
<script src="js/classie.js"></script> 
<script>
					var menuLeft = document.getElementById( 'cbp-spmenu-s1' ),
						showLeftPush = document.getElementById( 'showLeftPush' ),
						body = document.body;
						
					showLeftPush.onclick = function() {
						classie.toggle( this, 'active' );
						classie.toggle( body, 'cbp-spmenu-push-toright' );
						classie.toggle( menuLeft, 'cbp-spmenu-open' );
						disableOther( 'showLeftPush' );
					};
					

					function disableOther( button ) {
						if( button !== 'showLeftPush' ) {
							classie.toggle( showLeftPush, 'disabled' );
						}
					}
				</script> 
<!-- Bootstrap Core JavaScript --> 

<script type="text/javascript" src="js/bootstrap.min.js"></script> 
<!--scrolling js--> 
<script src="js/jquery.nicescroll.js"></script> 
<script src="js/scripts.js"></script>
<link href="css/bootstrap.min.css" rel="stylesheet">
</body>
</html>
